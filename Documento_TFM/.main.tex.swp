\documentclass[12pt,twoside,openany]{report}     % Tipo de documento y otras especificaciones

\usepackage[spanish,english]{babel}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage[colorinlistoftodos]{todonotes}
\usepackage[left=2.5cm,top=3cm,right=2.5cm,bottom=3cm]{geometry}
\usepackage{lscape} % Para poner horizontal una página intermedia
\usepackage{enumerate} % enumerados
\usepackage{multicol}
\usepackage[colorlinks=true,urlcolor=blue,linkcolor=black,citecolor=black]{hyperref}     % Para insertar hipervínculos y marcadores
\usepackage{listings}
\usepackage{subfigure}
\usepackage{float}% Para ubicar las tablas y figuras justo después del texto
\usepackage{url}        %Para que aparezca la url en la bibliografia
\usepackage{appendix}   %Para los anexos
\usepackage{fancyhdr}   % Para manejar los encabezados y pies de página
\usepackage{lipsum}
\usepackage{tabulary}
\usepackage{etoolbox}
\usepackage{apalike}
\usepackage{titlesec}
\usepackage{pifont}
\usepackage{scrhack}
\usepackage{caption}

\setlength{\parskip}{0.75em plus .5em minus .5em}
\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{2}

\newcommand{\xmark}{\ding{55}}%
\newcommand{\done}{\rlap{$\square$}{\raisebox{2pt}{\large\hspace{1pt}\cmark}}%
\hspace{-2.5pt}}

\def\bf{\normalfont\bfseries}
\def\sc{\scshape}
\def\sf{\sffamily}
\def\tt{\ttfamily}


\DeclareCaptionFont{black}{\color{black}}
\DeclareCaptionFormat{listing}{%
    \parbox{\textwidth}{\hspace{15pt}\vspace{0pt}#1#2#3}%
}

\captionsetup[lstlisting]{format=listing,labelfont={bf},textfont={},
  singlelinecheck=false, margin=0pt, font={} }

\selectlanguage{spanish}


\let\oldenumerate=\enumerate
\let\oldendenumerate=\endenumerate
\renewenvironment{enumerate}
{\oldenumerate\setlength\itemsep{-0.15em}}
{\oldendenumerate\vspace{0.2em}}

\let\olditemize=\itemize
\let\oldenditemize=\enditemize
\renewenvironment{itemize}
{\olditemize\setlength\itemsep{-0.15em}}
{\oldenditemize\vspace{0.2em}}

\let\oldcite=\cite
\renewcommand\cite[1]{\ifthenelse{\equal{#1}{NEEDED}}{[cita~requerida]}{\oldcite{#1}}}

\titlespacing{\chapter}{0pc}{0pc}{1.5pc}
\titlespacing{\section}{0pc}{1pc}{1pc}
\titlespacing{\subsection}{0pc}{0.5pc}{0.5pc}
\titlespacing{\subsubsection}{0pc}{0.05pc}{0pc}

\titleformat{\chapter}[block]{\Huge}{\thechapter}{1em}{}
\titleformat{\section}[block]{\huge}{\thesection}{1em}{}
\titleformat{\subsection}[block]{\Large}{\thesubsection}{1em}{}
\titleformat{\subsubsection}[block]{\large}{\thesubsubsection}{1em}{}



\lstdefinestyle{mystyle}{
        basicstyle=\ttfamily\scriptsize,
        breakatwhitespace=false,
        breaklines=false,
        captionpos=b,
        keepspaces=true,
        numbers=none,
        showspaces=false,
        showstringspaces=false,
        showtabs=false,
        tabsize=1
    }





\begin{document}
        \begin{titlepage}

                \newcommand{\HRule}{\rule{\linewidth}{0.5mm}} % Defines a new command for the horizontal lines, change thickness here

                \center % Center everything on the page

                %----------------------------------------------------------------------------------------
                %       HEADING SECTIONS
                %----------------------------------------------------------------------------------------

                \textsc{\LARGE Universidad de Murcia}\\[1.5cm] % Name of your university/college
                \textsc{\Large Máster Universitario en Tecnologías de Análisis de Datos Masivos}\\[0.5cm] % Major heading such as course name
                \textsc{\large Trabajo Fin de Máster}\\[0.5cm] % Minor heading such as course title

                %----------------------------------------------------------------------------------------
                %       TITLE SECTION
                %----------------------------------------------------------------------------------------

                \HRule \\[0.4cm]
                { \huge \bfseries Una arquitectura Big Data para el procesamiento en tiempo real de datos en aplicaciones de gestión de flotas
                        %\Large A
                        }\\[0.4cm] % Title of your document
                \HRule \\[1cm]


                %----------------------------------------------------------------------------------------
                %       LOGO SECTION
                %----------------------------------------------------------------------------------------
                \includegraphics[scale = 0.3]{Imagenes/escudoum.png}\\[2cm] % Include a department/university logo - this will require the graphicx package

                %----------------------------------------------------------------------------------------
                %       AUTHOR SECTION
                %----------------------------------------------------------------------------------------

                \begin{minipage}{0.5\textwidth}
                        \begin{flushleft} \large
                                \emph{Alumno:}\\
                                \emph{Rubén Garrido Montesinos}
                        \end{flushleft}
                \end{minipage}
                ~
                \begin{minipage}{0.45\textwidth}
                        \begin{flushright} \large
                                \emph{Directores:} \\
                                \emph{Jesús J. García Molina}\\
                                \emph{Diego Sevilla Ruiz}
                        \end{flushright}
                \end{minipage}\\[1.5cm]

                % If you don't want a supervisor, uncomment the two lines below and remove the section above
                %\Large \emph{Author:}\\
                %John \textsc{Smith}\\[3cm] % Your name





                %----------------------------------------------------------------------------------------

                %----------------------------------------------------------------------------------------
                %       DATE SECTION
                %----------------------------------------------------------------------------------------

                {\large Septiembre de 2018}\\[1cm] % Date, change the \today to a set date if you want to be precise



                \vfill % Fill the rest of the page with whitespace

        \end{titlepage}

%\pdfbookmark[1]{Portada}{portada}      % Marcador para el título

%\maketitle                                                     % Título





\newpage
Resumen
\newpage
Abstract
\newpage

\tableofcontents
\newpage

\newpage
\input{Introduccion.tex}


\input{EstadoDelArte.tex}


\input{FundamentosYHerramientas.tex}

\input{Requisitos.tex}

\input{ArquitecutraPropuesta.tex}



\input{AplicacionDesarrollada.tex}


\input{Validacion.tex}

\input{Conclusiones.tex}



\newpage
\bibliography{referencias}
\bibliographystyle{apalike}
%\nocite{*}



\newpage

\appendix
\renewcommand{\appendixname}{Anexos}
\renewcommand{\appendixtocname}{Anexos}
\renewcommand{\appendixpagename}{Anexos}
\addappheadtotoc
\appendixpage
\section{Anexo 1: tal tal tal}\label{aped.A}
\lstinputlisting[language=Python]{Anexos/sparkStructStream.py}

\section{Anexo 2: tal tal tal}\label{aped.B}
\lstinputlisting[language=Python]{Anexos/sparkStreaming.py}

\end{document}

%%% Local variables:
%%% TeX-master: t
%%% coding: utf-8
%%% ispell-local-dictionary: "spanish"
%%% TeX-parse-self: t
%%% TeX-auto-save: t
%%% fill-column: 75
%%% End:
